{"version":3,"sources":["webpack:///webpack/bootstrap 4501fb126899185af0ba?a391","webpack:///./pages/index.js?f7ee","webpack:///./utils/database.js?68a0","webpack:///external \"babel-runtime/regenerator\"?ed22","[absolute-resource-path]","webpack:///external \"react\"?3c62"],"names":["uploadImage","title","image","payload","fetch","method","headers","body","JSON","stringify","then","response","blob","onChange","e","file","target","files","reader","FileReader","onloadend","result","location","reload","readAsDataURL","props","data","map","item","index","category","renderImage","renderTable","req","knex","select","from","React","Component","module","exports","require","client","connection","host","user","password","database"],"mappings":"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","file":"bundles/pages/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4501fb126899185af0ba","import React from 'react'\n\nimport knex from '../utils/database'\n\nexport default class extends React.Component {\n  static async getInitialProps({ req }) {\n    const data = await knex.select().from('category-images')\n    return { data }\n  }\n\n  uploadImage = (title, image) => {\n    const payload = { title, image }\n\n    return fetch('/', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    }).then(function(response) {\n      return response.blob();\n    })\n  }\n\n  onChange = (title) => (e) => {\n    const file = e.target.files[0]\n    const reader = new FileReader()\n    \n    reader.onloadend = () => {\n      this.uploadImage(title, reader.result)\n        .then(res => location.reload())\n    }\n\n    reader.readAsDataURL(file);\n  }\n\n  renderImage(image) {\n    if (image) return <img src={image} />\n    return 'â€“'\n  }\n\n  renderTable() {\n    return this.props.data.map((item, index) => (\n      <tr key={index}>\n        <td>{ item.category }</td>\n        <td>{ this.renderImage(item.image) }</td>\n        <td><input type=\"file\" onChange={this.onChange(item.category)} /></td>\n      </tr>\n    ))\n  }\n\n  render() {\n    return (\n      <table>\n        <tbody>\n          { this.renderTable() }\n        </tbody>\n      </table>\n    )\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./pages/index.js","module.exports = require('knex')({\n  client: 'mysql2',\n  connection: {\n    host : '127.0.0.1',\n    user : 'root',\n    password : 'my-secret-pw',\n    database : 'firstbet'\n  }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./utils/database.js","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = babel-runtime/regenerator\n// module chunks = 2","module.exports = require(\"knex\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"knex\"\n// module id = knex\n// module chunks = 2","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 2"],"sourceRoot":""}